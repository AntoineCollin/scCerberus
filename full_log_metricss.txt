2022-04-13 15:07:11.587845: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library 'libcudart.so.11.0'; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory
2022-04-13 15:07:11.587884: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
/home/acollin/.conda/envs/discovair/lib/python3.8/site-packages/pandas/core/arrays/categorical.py:2487: FutureWarning: The `inplace` parameter in pandas.Categorical.remove_unused_categories is deprecated and will be removed in a future version.
  res = method(*args, **kwargs)
/home/acollin/.conda/envs/discovair/lib/python3.8/site-packages/pandas/core/arrays/categorical.py:2487: FutureWarning: The `inplace` parameter in pandas.Categorical.remove_unused_categories is deprecated and will be removed in a future version.
  res = method(*args, **kwargs)
computing balanced_accuracy_scores
computing accuracy_scores
computing davies_bouldin_true
computing davies_bouldin_pred
computing nmi
  0%|          | 0/6 [00:00<?, ?it/s]
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
silhouette ok
Traceback (most recent call last):
  File "/home/acollin/dca_permuted_workflow/compute_metric_script.py", line 92, in <module>
    silhouette_score = silhouette(ajrccm_hca, partition_key=match_obs_method[method], obsm_representation=embedding)
  File "/home/acollin/dca_permuted_workflow/workflow/clust_compute.py", line 32, in silhouette
    count_repr = adata.obsm[obsm_representation]
  File "/home/acollin/.conda/envs/discovair/lib/python3.8/site-packages/anndata/_core/aligned_mapping.py", line 148, in __getitem__
    return self._data[key]
KeyError: 'normalized_counts'
